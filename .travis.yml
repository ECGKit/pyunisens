language: python
python:
- '3.6'
- '3.7'
- '3.8'
- 3.8-dev
install:
- pip install -r requirements.txt
- pip install pytest pytest-cov codecov coveralls imageio json-tricks
- pip install -e . -v
script:
- pytest ./test/unisens_test.py --cov=unisens/
after_success:
- coveralls
deploy:
  provider: pypi
  username: "skjerns"
  password:
    secure: KbHg1qrYN6Lay9ePvWukSxEeU2nJJ+VNXR9vadulV+KNES9QxeHaHZYWGuu6gyEnatBztfYB5NHMpDI61Pr0oVoNN/Jvvsd1S15zG+ohFNCsxJ+hMBuyBr4/dC40KatWruUsD1gM4THloO4duGaY3UVKQ/4F+z+UUEiHOhG3DASgejW+2ZR2kWScYSB9vpmPCFLMqfEiExcAo5TiKfLW/FEAG0rezo6xCWCn+MT5hrrerRw8v4UctQ6wmLY0lCFTja3rQfCJpUxbIg2/G8QswPjWAMJhIaCWJwWnn20KuzI2XHUJBFDmiu4BirBHZqmh6YC9OzaNB3mbs0mf9cwG9JRAzcDzhZ3ZD77zk0rZfCUH3jh6t8Yy6YP3KNjgJb7KtR+a3e/MgUVAoDZB8EKUzQG8kiAQJj9hHC5DuoXSbJRABHcwQsbA4hkXClBPYMBwyZpBAEq4xiCZ1myEDyI6DMHPd9fRD8pP/P948sojVWvwOc+XtyhQA2+QNMGriSb7ICCB35shDsA2LCFRslkVRRsj6FClWwn/Guc8rBit+k5YS1gqt45ACjTifhtWrFyPkeMxDu4b/rURrh9SoCibtDbAUVIr2DMfeEQniykXyHV5UWLdt+J4wlztM3CptFUxBovcNUvcwn68iJdp16DyFzqED3i5wgDKs2o/vrb3sqg=
  edge: true
  on:
    tags: true